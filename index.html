<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∏–≥—Ä—ã "–°–Ω–µ–≥–æ–≤–∏–∫"</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #2c3e50, #4a6491);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2rem;
        }
        
        .subtitle {
            color: #555;
            font-size: 1rem;
            max-width: 800px;
            margin: 0 auto 10px;
        }
        
        .game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 500px;
            margin-bottom: 15px;
            background-color: #f5f5f5;
            padding: 12px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .info-item {
            text-align: center;
            flex: 2;
        }
        
        .info-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .info-label {
            font-size: 0.8rem;
            color: #666;
        }
        
        .game-board {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 4px;
            margin-bottom: 20px;
            background-color: #34495e;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        
        .cell {
            width: 70px;
            height: 70px;
            background-color: #bdc3c7;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.2s ease;
            user-select: none;
            border: 2px solid #95a5a6;
            position: relative;
        }
        
        .cell:hover {
            transform: scale(1.05);
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.7);
        }
        
        .cell.unknown {
            background-color: #bdc3c7;
            color: #2c3e50;
        }
        
        .cell.normal {
            background-color: #ecf0f1;
            color: #333;
        }
        
        .cell.gold {
            background-color: #ffd700;
            color: #b8860b;
            box-shadow: inset 0 0 10px rgba(184, 134, 11, 0.5);
        }
        
        .cell.empty {
            background-color: #7f8c8d;
            color: #ecf0f1;
        }
        
        .cell.possible-gold {
            background-color: #ffeb3b;
            color: #b8860b;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 235, 59, 0.7); }
            70% { box-shadow: 0 0 0 5px rgba(255, 235, 59, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 235, 59, 0); }
        }
        
        .cell.gold-outline {
            border: 2px solid #ffa500;
            box-shadow: 0 0 5px rgba(255, 165, 0, 0.7);
        }
        
        .cell-number {
            position: absolute;
            top: 2px;
            left: 2px;
            font-size: 0.65rem;
            color: #666;
        }
        
        .gold-chance {
            position: absolute;
            bottom: 2px;
            right: 2px;
            font-size: 0.75rem;
            font-weight: bold;
        }
        
        .gold-chance.high {
            color: #b8860b;
            font-weight: bold;
        }
        
        .gold-chance.low {
            color: #95a5a6;
            font-weight: normal;
        }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .btn-primary {
            background-color: #2c3e50;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #34495e;
        }
        
        .btn-outline-mode {
            background-color: #f39c12;
            color: white;
        }
        
        .btn-outline-mode:hover {
            background-color: #e67e22;
        }
        
        .btn-outline-mode.active {
            background-color: #d35400;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
        }
        
        .instructions {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid #2c3e50;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }
        
        .instructions h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .instructions ul {
            padding-left: 18px;
            margin-bottom: 10px;
        }
        
        .instructions li {
            margin-bottom: 5px;
        }
        
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.8rem;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            border: 1px solid #ccc;
        }
        
        /* –°–µ–∫—Ü–∏—è —Å —Ç–∞–∫—Ç–∏–∫–∞–º–∏ */
        .tactics-section {
            margin-bottom: 20px;
        }
        
        .section-title {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.3rem;
            position: relative;
            padding-bottom: 8px;
        }
        
        .section-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background-color: #f39c12;
            border-radius: 2px;
        }
        
        .tactics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .tactic-card {
            background-color: #f5f5f5;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .tactic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            border-color: #f39c12;
        }
        
        .tactic-card.gold {
            border-top: 4px solid #ffd700;
        }
        
        .tactic-card.silver {
            border-top: 4px solid #bdc3c7;
        }
        
        .tactic-card.bronze {
            border-top: 4px solid #cd7f32;
        }
        
        .tactic-card.blue {
            border-top: 4px solid #3498db;
        }
        
        .tactic-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1rem;
            text-align: center;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .tactic-card .rank {
            display: inline-block;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: #2c3e50;
            color: white;
            text-align: center;
            line-height: 24px;
            font-size: 0.8rem;
            margin-right: 8px;
            vertical-align: middle;
        }
        
        .tactic-preview {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 3px;
            width: 100%;
            background-color: #34495e;
            padding: 6px;
            border-radius: 4px;
            flex-grow: 1;
        }
        
        .preview-cell {
			aspect-ratio: 1 / 1;
			flex: 1 0 auto; 
			border-radius: 2px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 0.7rem;
			font-weight: bold;
			overflow: hidden;
		}
        
        .tactic-description {
            font-size: 0.85rem;
            color: #555;
            line-height: 1.4;
            margin-top: 8px;
			max-height: 60px;
			overflow: hidden;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            max-width: 700px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }
        
        .modal-overlay.active .modal {
            transform: translateY(0);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
        }
        
        .modal-title {
            color: #2c3e50;
            font-size: 1.3rem;
            margin: 0;
            display: flex;
            align-items: center;
        }
        
        .modal-title .rank {
            display: inline-block;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #2c3e50;
            color: white;
            text-align: center;
            line-height: 30px;
            font-size: 0.9rem;
            margin-right: 12px;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: #7f8c8d;
            transition: color 0.3s ease;
            line-height: 1;
        }
        
        .close-modal:hover {
            color: #e74c3c;
        }
        
        .modal-content {
            color: #333;
        }
        
        .tactic-explanation {
            margin-bottom: 20px;
        }
        
        .tactic-explanation h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .tactic-explanation p {
            margin-bottom: 12px;
            line-height: 1.6;
        }
        
        .tactic-explanation ul, .tactic-explanation ol {
            padding-left: 20px;
            margin-bottom: 15px;
        }
        
        .tactic-explanation li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        .tactic-visualization {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .tactic-board {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 4px;
            width: 350px;
            height: 290px;
            background-color: #34495e;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 15px;
        }
        
        .visual-cell {
            width: 100%;
            height: 100%;
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .visual-cell.normal {
            background-color: #ecf0f1;
        }
        
        .visual-cell.gold-outline {
            background-color: #ecf0f1;
            border: 2px solid #ffa500;
        }
        
        .visual-cell.gold {
            background-color: #ffd700;
        }
        
        .visual-cell.empty {
            background-color: #7f8c8d;
            color: white;
        }
        
        .visual-cell.target {
            background-color: #ffeb3b;
            animation: pulse 2s infinite;
        }
        
        .visual-cell.start {
            background-color: #a3e4d7;
        }
        
        .visual-label {
            font-size: 0.9rem;
            color: #666;
            margin-top: 8px;
            text-align: center;
            max-width: 350px;
        }
        
        .coordinate-list {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        
        .coordinate-item {
            background-color: #f1f8ff;
            padding: 8px 12px;
            border-radius: 4px;
            font-weight: bold;
            color: #2c3e50;
            border: 1px solid #d1e3ff;
        }
        
        .author-note {
            text-align: center;
            color: #7f8c8d;
            font-size: 0.85rem;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.7rem;
            }
            
            .cell {
                width: 48px;
                height: 48px;
                font-size: 1.1rem;
            }
            
            .btn {
                padding: 8px 16px;
                font-size: 0.85rem;
            }
            
            .tactics-grid {
                grid-template-columns: 1fr;
            }
            
            .modal {
                max-width: 90%;
                padding: 20px;
            }
            
            .tactic-board {
                width: 280px;
                height: 230px;
            }
        }
        
        @media (max-width: 480px) {
            .cell {
                width: 42px;
                height: 42px;
                font-size: 1rem;
            }
            
            .game-info {
                flex-direction: row;
                gap: 6px;
				padding: 8px 10px;
            }
			
			.info-item {
				flex: 0 0 auto; 
				min-width: 70px;
			}
            
            .instructions {
                padding: 12px;
            }
            
            .tactic-board {
                width: 240px;
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>–ü–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∏–≥—Ä—ã "–°–Ω–µ–≥–æ–≤–∏–∫"</h1>
            <p class="subtitle">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è. –ü–æ–º–æ—â–Ω–∏–∫ –Ω–µ —É–º–µ–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å.</p>
            <p class="subtitle">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∞–∫—Ç–∏–∫–∏ –Ω–∏–∂–µ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏!</p>
        </header>
        
        <div class="game-area">
            <div class="game-info">
                <div class="info-item">
                    <div class="info-value" id="gold-count">0</div>
                    <div class="info-label">–ó–æ–ª–æ—Ç—ã—Ö</div>
                </div>
                <div class="info-item">
                    <div class="info-value" id="empty-count">0</div>
                    <div class="info-label">–ü—É—Å—Ç—ã—Ö</div>
                </div>
                <div class="info-item">
                    <div class="info-value" id="possible-gold-count">0</div>
                    <div class="info-label">–í–æ–∑–º–æ–∂–Ω—ã—Ö ‚â•50%</div>
                </div>
            </div>
            
            <div class="game-board" id="game-board">
                <!-- –ö–ª–µ—Ç–∫–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é JavaScript -->
            </div>
            
            <div class="controls">
                <button class="btn btn-primary" id="new-game-btn">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                <button class="btn btn-outline-mode" id="outline-mode-btn">–ó–æ–ª–æ—Ç—ã–µ –∫–æ–Ω—Ç—É—Ä—ã</button>
            </div>
        </div>
        
        <div class="instructions">
            <h3>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–º–æ—â–Ω–∏–∫:</h3>
            <ul>
                <li>–ù–∞–∂–∏–º–∞–π—Ç–µ –Ω–∞ –∫–ª–µ—Ç–∫–∏, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å: <strong>–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ ‚Üí –û–±—ã—á–Ω–∞—è ‚Üí –ó–æ–ª–æ—Ç–∞—è ‚Üí –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ</strong></li>
                <li>–ö–Ω–æ–ø–∫–∞ <strong>"–ó–æ–ª–æ—Ç—ã–µ –∫–æ–Ω—Ç—É—Ä—ã"</strong> –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏/—Å–Ω—è—Ç–∏—è –∑–æ–ª–æ—Ç—ã—Ö –∫–æ–Ω—Ç—É—Ä–æ–≤</li>
                <li><strong>–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</strong> –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –≤–∞—à–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è</li>
                <li><strong>–ü—Ä–æ—Ü–µ–Ω—Ç—ã –≤ –∫–ª–µ—Ç–∫–∞—Ö:</strong> –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —à–∞–Ω—Å –±—ã—Ç—å –∑–æ–ª–æ—Ç–æ–π —è—á–µ–π–∫–æ–π</li>
                <li><strong>–ñ–µ–ª—Ç—ã–µ –∫–ª–µ—Ç–∫–∏:</strong> —à–∞–Ω—Å ‚â•50%, <strong>—Å–µ—Ä—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã:</strong> —à–∞–Ω—Å &lt;50%</li>
            </ul>
            
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #bdc3c7;"></div>
                    <span>–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #ecf0f1;"></div>
                    <span>–û–±—ã—á–Ω–∞—è</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #ffd700;"></div>
                    <span>–ó–æ–ª–æ—Ç–∞—è</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #7f8c8d;"></div>
                    <span>–ü—É—Å—Ç–∞—è</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="border: 2px solid #ffa500; background-color: #ecf0f1;"></div>
                    <span>–ó–æ–ª–æ—Ç–æ–π –∫–æ–Ω—Ç—É—Ä</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #ffeb3b;"></div>
                    <span>–®–∞–Ω—Å ‚â•50%</span>
                </div>
            </div>
        </div>
        
        <!-- –°–µ–∫—Ü–∏—è —Å –ª—É—á—à–∏–º–∏ –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ —Ç–∞–∫—Ç–∏–∫–∞–º–∏ -->
        <div class="tactics-section">
            <h3 class="section-title">üèÜ –¢–æ–ø-3 –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Ç–∞–∫—Ç–∏–∫</h3>
            <div class="tactics-grid">
                <div class="tactic-card gold" data-tactic="diamond">
                    <h4><span class="rank">1</span> –ê–ª–º–∞–∑–Ω–∞—è —Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                    <div class="tactic-preview" id="diamond-preview">
                        <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω JavaScript -->
                    </div>
                    <div class="tactic-description">
                        –°–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–π —Ä–æ–º–± –≤ —Ü–µ–Ω—Ç—Ä–µ –ø–æ–ª—è. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ—Ö–≤–∞—Ç (16 —Å–æ—Å–µ–¥–µ–π), –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏–∏.
                    </div>
                </div>
                <div class="tactic-card silver" data-tactic="cross">
                    <h4><span class="rank">2</span> –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫—Ä–µ—Å—Ç</h4>
                    <div class="tactic-preview" id="cross-preview">
                        <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω JavaScript -->
                    </div>
                    <div class="tactic-description">
                        –°–º–µ—â–µ–Ω–Ω—ã–π –∫—Ä–µ—Å—Ç —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö. –û—Ç–ª–∏—á–Ω–æ –≤—ã—è–≤–ª—è–µ—Ç –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä—ã –∑–æ–ª–æ—Ç–∞.
                    </div>
                </div>
                <div class="tactic-card bronze" data-tactic="diagonal">
                    <h4><span class="rank">3</span> –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–∞–Ω–µ—Ä</h4>
                    <div class="tactic-preview" id="diagonal-preview">
                        <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω JavaScript -->
                    </div>
                    <div class="tactic-description">
                        –î–∏–∞–≥–æ–Ω–∞–ª—å —á–µ—Ä–µ–∑ –≤—Å—ë –ø–æ–ª–µ. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –ø—Ä–æ—Ç–∏–≤ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –∑–æ–ª–æ—Ç—ã—Ö —è—á–µ–µ–∫.
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –°–µ–∫—Ü–∏—è —Å —Å–æ–≤–µ—Ç–∞–º–∏ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ -->
        <div class="tactics-section">
            <h3 class="section-title">üìö –°–æ–≤–µ—Ç—ã –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤</h3>
            <div class="tactics-grid">
                <div class="tactic-card blue" data-tactic="triangulation">
                    <h4>–¢—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏—è</h4>
                    <div class="tactic-preview" id="triangulation-preview">
                        <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω JavaScript -->
                    </div>
                    <div class="tactic-description">
                        –ï—Å–ª–∏ –¥–≤–µ –∫–ª–µ—Ç–∫–∏ —Å –∑–æ–ª–æ—Ç—ã–º–∏ –∫–æ–Ω—Ç—É—Ä–∞–º–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –æ–¥–Ω—É –∫–ª–µ—Ç–∫—É ‚Äî —Ç–∞–º –ø–æ—á—Ç–∏ —Ç–æ—á–Ω–æ –∑–æ–ª–æ—Ç–æ.
                    </div>
                </div>
                <div class="tactic-card blue" data-tactic="exclusion">
                    <h4>–ú–µ—Ç–æ–¥ –∏—Å–∫–ª—é—á–µ–Ω–∏—è</h4>
                    <div class="tactic-preview" id="exclusion-preview">
                        <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω JavaScript -->
                    </div>
                    <div class="tactic-description">
                        –ö–ª–µ—Ç–∫–∏ —Å —Å–µ—Ä—ã–º–∏/–∫—Ä–∞—Å–Ω—ã–º–∏ —Ä–∞–º–∫–∞–º–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –≥–¥–µ –ù–ï –∏—Å–∫–∞—Ç—å. –≠–∫–æ–Ω–æ–º—å—Ç–µ —Ö–æ–¥—ã!
                    </div>
                </div>
                <div class="tactic-card blue" data-tactic="avoid-corners">
                    <h4>–ò–∑–±–µ–≥–∞–π—Ç–µ —É–≥–ª–æ–≤</h4>
                    <div class="tactic-preview" id="corners-preview">
                        <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω JavaScript -->
                    </div>
                    <div class="tactic-description">
                        –£–≥–ª—ã –¥–∞—é—Ç –º–∞–ª–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (2-3 —Å–æ—Å–µ–¥–∞). –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫ (4 —Å–æ—Å–µ–¥–∞).
                    </div>
                </div>
            </div>
        </div>
        <p class="author-note"><a href="https://github.com/CrossCanon/snowman_scx" target="_blank" rel="noopener noreferrer">GitHub</a> / <a href="https://vk.com/crosscanon" target="_blank" rel="noopener noreferrer">VK</a></p>
        <p class="author-note">–°–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è. –°–¥–µ–ª–∞–Ω CrossCanon</p>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –¥–ª—è —Ç–∞–∫—Ç–∏–∫ -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="modal-title">
                    <span class="rank" id="modal-rank">1</span>
                    <span id="modal-title-text">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–∫—Ç–∏–∫–∏</span>
                </h3>
                <button class="close-modal" id="close-modal">&times;</button>
            </div>
            <div class="modal-content" id="modal-content">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const rows = 5;
            const cols = 6;
            const totalGold = 4;
            let gameBoard = [];
            let emptyCells = [];
            let possibleGoldCells = [];
            let outlineMode = false;
            
            const gameBoardElement = document.getElementById('game-board');
            const goldCountElement = document.getElementById('gold-count');
            const emptyCountElement = document.getElementById('empty-count');
            const possibleGoldCountElement = document.getElementById('possible-gold-count');
            const newGameBtn = document.getElementById('new-game-btn');
            const outlineModeBtn = document.getElementById('outline-mode-btn');
            
            // –≠–ª–µ–º–µ–Ω—Ç—ã –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            const modalOverlay = document.getElementById('modal-overlay');
            const modalTitle = document.getElementById('modal-title-text');
            const modalRank = document.getElementById('modal-rank');
            const modalContent = document.getElementById('modal-content');
            const closeModalBtn = document.getElementById('close-modal');
            
            // –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–µ—Ç–æ–∫
            const CELL_STATES = {
                UNKNOWN: 'unknown',
                NORMAL: 'normal',
                GOLD: 'gold',
                EMPTY: 'empty',
                POSSIBLE_GOLD: 'possible-gold'
            };
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
            function initGameBoard() {
                gameBoard = [];
                emptyCells = [];
                possibleGoldCells = [];
                outlineMode = false;
                outlineModeBtn.classList.remove('active');
                outlineModeBtn.textContent = '–ó–æ–ª–æ—Ç—ã–µ –∫–æ–Ω—Ç—É—Ä—ã';
                
                // –°–æ–∑–¥–∞–µ–º –º–∞—Å—Å–∏–≤ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è 5√ó6
                for (let row = 0; row < rows; row++) {
                    gameBoard[row] = [];
                    for (let col = 0; col < cols; col++) {
                        gameBoard[row][col] = {
                            state: CELL_STATES.UNKNOWN,
                            hasGoldOutline: false,
                            goldChance: 0,
                            row: row,
                            col: col
                        };
                    }
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                renderGameBoard();
                updateCounters();
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä—ã —Ç–∞–∫—Ç–∏–∫
                initTacticPreviews();
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∏–∫–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–∞–∫—Ç–∏–∫
                setupTacticCards();
            }
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–∞–∫—Ç–∏–∫
            function setupTacticCards() {
                document.querySelectorAll('.tactic-card').forEach(card => {
                    card.addEventListener('click', function() {
                        const tactic = this.getAttribute('data-tactic');
                        openTacticModal(tactic);
                    });
                });
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ —Ç–∞–∫—Ç–∏–∫
            function initTacticPreviews() {
                // 1. –ê–ª–º–∞–∑–Ω–∞—è —Ñ–æ—Ä–º–∞—Ü–∏—è
                createDiamondPreview();
                
                // 2. –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫—Ä–µ—Å—Ç
                createCrossPreview();
                
                // 3. –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–∞–Ω–µ—Ä
                createDiagonalPreview();
                
                // 4. –¢—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏—è
                createTriangulationPreview();
                
                // 5. –ú–µ—Ç–æ–¥ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
                createExclusionPreview();
                
                // 6. –ò–∑–±–µ–≥–∞–π—Ç–µ —É–≥–ª–æ–≤
                createCornersPreview();
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∞–ª–º–∞–∑–Ω–æ–π —Ñ–æ—Ä–º–∞—Ü–∏–∏
            function createDiamondPreview() {
                const preview = document.getElementById('diamond-preview');
                preview.innerHTML = '';
                
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        const cell = document.createElement('div');
                        cell.className = 'preview-cell';
                        
                        // –ê–ª–º–∞–∑–Ω–∞—è —Ñ–æ—Ä–º–∞—Ü–∏—è: (2,2), (2,5), (4,2), (4,5)
                        const isStart = (row === 1 && col === 1) || (row === 1 && col === 4) || 
                                       (row === 3 && col === 1) || (row === 3 && col === 4);
                        
                        if (isStart) {
                            cell.style.backgroundColor = '#a3e4d7';
                            cell.textContent = `${row+1},${col+1}`;
                            cell.style.fontSize = '0.6rem';
                        } else {
                            cell.style.backgroundColor = '#bdc3c7';
                        }
                        
                        preview.appendChild(cell);
                    }
                }
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –∫—Ä–µ—Å—Ç–∞
            function createCrossPreview() {
                const preview = document.getElementById('cross-preview');
                preview.innerHTML = '';
                
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        const cell = document.createElement('div');
                        cell.className = 'preview-cell';
                        
                        // –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫—Ä–µ—Å—Ç: (2,3), (3,2), (3,5), (4,3)
                        const isStart = (row === 1 && col === 2) || (row === 2 && col === 1) || 
                                       (row === 2 && col === 4) || (row === 3 && col === 2);
                        
                        if (isStart) {
                            cell.style.backgroundColor = '#a3e4d7';
                            cell.textContent = `${row+1},${col+1}`;
                            cell.style.fontSize = '0.6rem';
                        } else {
                            cell.style.backgroundColor = '#bdc3c7';
                        }
                        
                        preview.appendChild(cell);
                    }
                }
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∫–∞–Ω–µ—Ä–∞
            function createDiagonalPreview() {
                const preview = document.getElementById('diagonal-preview');
                preview.innerHTML = '';
                
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        const cell = document.createElement('div');
                        cell.className = 'preview-cell';
                        
                        // –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–∞–Ω–µ—Ä: (1,3), (2,5), (4,2), (5,4)
                        const isStart = (row === 0 && col === 2) || (row === 1 && col === 4) || 
                                       (row === 3 && col === 1) || (row === 4 && col === 3);
                        
                        if (isStart) {
                            cell.style.backgroundColor = '#a3e4d7';
                            cell.textContent = `${row+1},${col+1}`;
                            cell.style.fontSize = '0.6rem';
                        } else {
                            cell.style.backgroundColor = '#bdc3c7';
                        }
                        
                        preview.appendChild(cell);
                    }
                }
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏–∏
            function createTriangulationPreview() {
                const preview = document.getElementById('triangulation-preview');
                preview.innerHTML = '';
                
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        const cell = document.createElement('div');
                        cell.className = 'preview-cell';
                        
                        // –¢—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏—è: –¥–≤–∞ –∫–æ–Ω—Ç—É—Ä–∞ —Å –∑–æ–ª–æ—Ç–æ–º –º–µ–∂–¥—É –Ω–∏–º–∏
                        const isOutline = (row === 1 && col === 1) || (row === 1 && col === 3);
                        const isGold = (row === 1 && col === 2);
                        
                        if (isGold) {
                            cell.style.backgroundColor = '#ffd700';
                            cell.textContent = '‚òÖ';
                        } else if (isOutline) {
                            cell.style.backgroundColor = '#ecf0f1';
                            cell.style.border = '1px solid #ffa500';
                        } else {
                            cell.style.backgroundColor = '#bdc3c7';
                        }
                        
                        preview.appendChild(cell);
                    }
                }
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–µ—Ç–æ–¥–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
            function createExclusionPreview() {
                const preview = document.getElementById('exclusion-preview');
                preview.innerHTML = '';
                
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        const cell = document.createElement('div');
                        cell.className = 'preview-cell';
                        
                        // –ú–µ—Ç–æ–¥ –∏—Å–∫–ª—é—á–µ–Ω–∏—è: —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–ª–µ—Ç–∫–∞ —Å –ø—É—Å—Ç—ã–º–∏ —Å–æ—Å–µ–¥—è–º–∏
                        const isCenter = (row === 2 && col === 2);
                        const isNeighbor = (row === 2 && col === 1) || (row === 2 && col === 3) || 
                                          (row === 1 && col === 2) || (row === 3 && col === 2);
                        
                        if (isCenter) {
                            cell.style.backgroundColor = '#ecf0f1';
                            cell.style.border = '1px solid #7f8c8d';
                        } else if (isNeighbor) {
                            cell.style.backgroundColor = '#7f8c8d';
                        } else {
                            cell.style.backgroundColor = '#bdc3c7';
                        }
                        
                        preview.appendChild(cell);
                    }
                }
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ "–ò–∑–±–µ–≥–∞–π—Ç–µ —É–≥–ª–æ–≤"
            function createCornersPreview() {
                const preview = document.getElementById('corners-preview');
                preview.innerHTML = '';
                
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        const cell = document.createElement('div');
                        cell.className = 'preview-cell';
                        
                        // –£–≥–ª—ã vs —Ü–µ–Ω—Ç—Ä
                        const isCorner = (row === 0 && col === 0) || (row === 0 && col === 5) || 
                                        (row === 4 && col === 0) || (row === 4 && col === 5);
                        const isCenter = (row === 2 && col === 2) || (row === 2 && col === 3);
                        
                        if (isCorner) {
                            cell.style.backgroundColor = '#ff6b6b';
                            cell.textContent = '‚úó';
                        } else if (isCenter) {
                            cell.style.backgroundColor = '#a3e4d7';
                            cell.textContent = '‚úì';
                        } else {
                            cell.style.backgroundColor = '#bdc3c7';
                        }
                        
                        preview.appendChild(cell);
                    }
                }
            }
            
            // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å —Ç–∞–∫—Ç–∏–∫–æ–π
            function openTacticModal(tactic) {
                let title = '';
                let rank = '';
                let content = '';
                
                if (tactic === 'diamond') {
                    title = '–ê–ª–º–∞–∑–Ω–∞—è —Ñ–æ—Ä–º–∞—Ü–∏—è';
                    rank = '1';
                    content = `
                        <div class="tactic-explanation">
                            <h4>–û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–∫—Ç–∏–∫–∏</h4>
                            <p><strong>–õ—É—á—à–∏–π —Å—Ç–∞—Ä—Ç –¥–ª—è –ø–æ–ª—è 5√ó6!</strong> –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–∏ 4 –∫–ª–µ—Ç–∫–∏ –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ:</p>
                            <div class="coordinate-list">
                                <div class="coordinate-item">(2, 2)</div>
                                <div class="coordinate-item">(2, 5)</div>
                                <div class="coordinate-item">(4, 2)</div>
                                <div class="coordinate-item">(4, 5)</div>
                            </div>
                            <p><strong>–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p>
                            <ul>
                                <li>–ö–∞–∂–¥–∞—è –∫–ª–µ—Ç–∫–∞ –∏–º–µ–µ—Ç –ø–æ <strong>4 —Å–æ—Å–µ–¥–∞</strong> (–º–∞–∫—Å–∏–º—É–º)</li>
                                <li><strong>16 –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–æ—Å–µ–¥–µ–π</strong> –ø–æ–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å—Ä–∞–∑—É</li>
                                <li>–°–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–≥–æ –æ—Ö–≤–∞—Ç–∞ –ø–æ–ª—è</li>
                                <li>–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏–∏ –∑–æ–ª–æ—Ç—ã—Ö —è—á–µ–µ–∫</li>
                            </ul>
                            <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö –∑–æ–Ω, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ö–æ–¥–æ–≤.</p>
                        </div>
                        <div class="tactic-visualization">
                            <div class="tactic-board" id="diamond-board">
                                <!-- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                            <div class="visual-label">–ñ–µ–ª—Ç—ã–µ –∫–ª–µ—Ç–∫–∏ - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ç–æ—á–∫–∏</div>
                        </div>
                    `;
                } else if (tactic === 'cross') {
                    title = '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫—Ä–µ—Å—Ç';
                    rank = '2';
                    content = `
                        <div class="tactic-explanation">
                            <h4>–û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–∫—Ç–∏–∫–∏</h4>
                            <p><strong>–í—Ç–æ—Ä–∞—è –ø–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è.</strong> –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–∏ 4 –∫–ª–µ—Ç–∫–∏:</p>
                            <div class="coordinate-list">
                                <div class="coordinate-item">(2, 3)</div>
                                <div class="coordinate-item">(3, 2)</div>
                                <div class="coordinate-item">(3, 5)</div>
                                <div class="coordinate-item">(4, 3)</div>
                            </div>
                            <p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
                            <ul>
                                <li>–§–æ–∫—É—Å –Ω–∞ <strong>—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö</strong> (3 –∏ 4)</li>
                                <li>–•–æ—Ä–æ—à–æ –≤—ã—è–≤–ª—è–µ—Ç <strong>–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä—ã</strong> –∑–æ–ª–æ—Ç—ã—Ö —è—á–µ–µ–∫</li>
                                <li>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –ø—Ä–∏ –∞—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –∑–æ–ª–æ—Ç–∞</li>
                                <li>–°–æ–∑–¥–∞–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞</li>
                            </ul>
                            <p><strong>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong> –ï—Å–ª–∏ –ø–æ–¥–æ–∑—Ä–µ–≤–∞–µ—Ç–µ, —á—Ç–æ –∑–æ–ª–æ—Ç–æ —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ –ø–æ–ª—è.</p>
                        </div>
                        <div class="tactic-visualization">
                            <div class="tactic-board" id="cross-board">
                                <!-- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                            <div class="visual-label">–°—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ç–æ—á–∫–∏ –æ–±—Ä–∞–∑—É—é—Ç —Å–º–µ—â–µ–Ω–Ω—ã–π –∫—Ä–µ—Å—Ç</div>
                        </div>
                    `;
                } else if (tactic === 'diagonal') {
                    title = '–î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–∞–Ω–µ—Ä';
                    rank = '3';
                    content = `
                        <div class="tactic-explanation">
                            <h4>–û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–∫—Ç–∏–∫–∏</h4>
                            <p><strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –∏–≥—Ä–æ–∫–æ–≤.</strong> –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–∏ 4 –∫–ª–µ—Ç–∫–∏:</p>
                            <div class="coordinate-list">
                                <div class="coordinate-item">(1, 3)</div>
                                <div class="coordinate-item">(2, 5)</div>
                                <div class="coordinate-item">(4, 2)</div>
                                <div class="coordinate-item">(5, 4)</div>
                            </div>
                            <p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–∞–∫—Ç–∏–∫–∏:</strong></p>
                            <ul>
                                <li>–î–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≤—Å—ë –ø–æ–ª–µ</li>
                                <li>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –ø—Ä–æ—Ç–∏–≤ <strong>"–¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–≥–æ" —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è</strong> –∑–æ–ª–æ—Ç—ã—Ö —è—á–µ–µ–∫</li>
                                <li>–î–∞—ë—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ <strong>–∫—Ä–∞–π–Ω–∏—Ö –∑–æ–Ω–∞—Ö</strong>, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è</li>
                                <li>–°–æ–∑–¥–∞–µ—Ç –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞</li>
                            </ul>
                            <p><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫:</strong> –û–¥–Ω–∞ —Ç–æ—á–∫–∞ (1,3) –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ 3 —Å–æ—Å–µ–¥–∞ –≤–º–µ—Å—Ç–æ 4.</p>
                        </div>
                        <div class="tactic-visualization">
                            <div class="tactic-board" id="diagonal-board">
                                <!-- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                            <div class="visual-label">–î–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç–æ–≤—ã—Ö —Ç–æ—á–µ–∫</div>
                        </div>
                    `;
                } else if (tactic === 'triangulation') {
                    title = '–¢—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏—è';
                    rank = '';
                    content = `
                        <div class="tactic-explanation">
                            <h4>–û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–∫—Ç–∏–∫–∏</h4>
                            <p><strong>–°–∞–º—ã–π –º–æ—â–Ω—ã–π –ø—Ä–∏–µ–º –≤ –∏–≥—Ä–µ!</strong> –ï—Å–ª–∏ –≤—ã –æ—Ç–∫—Ä—ã–ª–∏ –¥–≤–µ –∫–ª–µ—Ç–∫–∏ —Å –∑–æ–ª–æ—Ç—ã–º–∏ –∫–æ–Ω—Ç—É—Ä–∞–º–∏, –∏ –æ–Ω–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –∫–ª–µ—Ç–∫—É:</p>
                            <p><strong>–ö–ª–µ—Ç–∫–∞ –ê (–∑–æ–ª–æ—Ç–æ–π –∫–æ–Ω—Ç—É—Ä)</strong><br>
                            <strong>–ö–ª–µ—Ç–∫–∞ –ë (–Ω–µ –æ—Ç–∫—Ä—ã—Ç–∞)</strong><br>
                            <strong>–ö–ª–µ—Ç–∫–∞ –í (–∑–æ–ª–æ—Ç–æ–π –∫–æ–Ω—Ç—É—Ä)</strong></p>
                            <p><strong>–° –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 99% –∑–æ–ª–æ—Ç–∞—è —è—á–µ–π–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ö–ª–µ—Ç–∫–µ –ë!</strong></p>
                            <p><strong>–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong> –ö–∞–∂–¥—ã–π –∑–æ–ª–æ—Ç–æ–π –∫–æ–Ω—Ç—É—Ä —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –≤ –æ–¥–Ω–æ–º –∏–∑ –µ–≥–æ —Å–æ—Å–µ–¥–µ–π –µ—Å—Ç—å –∑–æ–ª–æ—Ç–æ. –ï—Å–ª–∏ –¥–≤–∞ –∫–æ–Ω—Ç—É—Ä–∞ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –∫–ª–µ—Ç–∫—É, –æ–Ω–∞ –ø–æ—á—Ç–∏ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –∑–æ–ª–æ—Ç–∞—è.</p>
                            <p><strong>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong> –ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏—Ç–µ —Ç–∞–∫—É—é —Å–∏—Ç—É–∞—Ü–∏—é ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –æ–±—â—É—é –∫–ª–µ—Ç–∫—É –ø–µ—Ä–≤–æ–π!</p>
                        </div>
                        <div class="tactic-visualization">
                            <div class="tactic-board" id="triangulation-board">
                                <!-- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                            <div class="visual-label">–ö–æ–Ω—Ç—É—Ä—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –∑–æ–ª–æ—Ç—É—é —è—á–µ–π–∫—É –º–µ–∂–¥—É –Ω–∏–º–∏</div>
                        </div>
                    `;
                } else if (tactic === 'exclusion') {
                    title = '–ú–µ—Ç–æ–¥ –∏—Å–∫–ª—é—á–µ–Ω–∏—è';
                    rank = '';
                    content = `
                        <div class="tactic-explanation">
                            <h4>–û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–∫—Ç–∏–∫–∏</h4>
                            <p><strong>–°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ö–æ–¥–æ–≤!</strong> –ö–ª–µ—Ç–∫–∏ —Å —Å–µ—Ä—ã–º–∏ –∏–ª–∏ –∫—Ä–∞—Å–Ω—ã–º–∏ —Ä–∞–º–∫–∞–º–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –≥–¥–µ –∏—Å–∫–∞—Ç—å <strong>–ù–ï –ù–ê–î–û</strong>.</p>
                            <p><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –ï—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ —Ä–∞—Å–∫—Ä—ã—Ç–∞ (–æ–±—ã—á–Ω–∞—è) –∏ –Ω–µ –∏–º–µ–µ—Ç –∑–æ–ª–æ—Ç–æ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞ ‚Üí –≤—Å–µ –µ—ë —Å–æ—Å–µ–¥–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø—É—Å—Ç—ã–º–∏.</p>
                            <p><strong>–ü—Ä–∏–º–µ—Ä:</strong> –ï—Å–ª–∏ –≤—ã –æ—Ç–∫—Ä—ã–ª–∏ –∫–ª–µ—Ç–∫—É (3,3) –∏ —É –Ω–µ—ë –Ω–µ—Ç –∑–æ–ª–æ—Ç–æ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞, —Ç–æ –∫–ª–µ—Ç–∫–∏ (2,3), (3,2), (3,4), (4,3) —Ç–æ—á–Ω–æ –ø—É—Å—Ç—ã–µ.</p>
                            <p><strong>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong></p>
                            <ul>
                                <li>–ù–µ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ—Å–µ–¥–µ–π –∫–ª–µ—Ç–æ–∫ —Å —Å–µ—Ä—ã–º–∏/–∫—Ä–∞—Å–Ω—ã–º–∏ —Ä–∞–º–∫–∞–º–∏</li>
                                <li>–û—Ç–º–µ—á–∞–π—Ç–µ —Ç–∞–∫–∏–µ –∫–ª–µ—Ç–∫–∏ –∫–∞–∫ –ø—É—Å—Ç—ã–µ –≤ –ø–æ–º–æ—â–Ω–∏–∫–µ</li>
                                <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —Å—É–∂–µ–Ω–∏—è –∑–æ–Ω—ã –ø–æ–∏—Å–∫–∞</li>
                            </ul>
                            <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –≠–∫–æ–Ω–æ–º–∏—è 20-30% —Ö–æ–¥–æ–≤ –∑–∞ –∏–≥—Ä—É!</p>
                        </div>
                        <div class="tactic-visualization">
                            <div class="tactic-board" id="exclusion-board">
                                <!-- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                            <div class="visual-label">–°–µ—Ä–∞—è —Ä–∞–º–∫–∞ –∏ –µ—ë –ø—É—Å—Ç—ã–µ —Å–æ—Å–µ–¥–∏</div>
                        </div>
                    `;
                } else if (tactic === 'avoid-corners') {
                    title = '–ò–∑–±–µ–≥–∞–π—Ç–µ —É–≥–ª–æ–≤';
                    rank = '';
                    content = `
                        <div class="tactic-explanation">
                            <h4>–û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–∫—Ç–∏–∫–∏</h4>
                            <p><strong>–û—Å–Ω–æ–≤–Ω–∞—è –æ—à–∏–±–∫–∞ –Ω–æ–≤–∏—á–∫–æ–≤!</strong> –ù–µ –Ω–∞—á–∏–Ω–∞–π—Ç–µ –∏–≥—Ä—É —Å —É–≥–ª–æ–≤—ã—Ö –∫–ª–µ—Ç–æ–∫.</p>
                            <p><strong>–ü–æ—á–µ–º—É —É–≥–ª—ã –ø–ª–æ—Ö–∏:</strong></p>
                            <ul>
                                <li><strong>–£–≥–ª–æ–≤–∞—è –∫–ª–µ—Ç–∫–∞ –∏–º–µ–µ—Ç –≤—Å–µ–≥–æ 2-3 —Å–æ—Å–µ–¥–∞</strong> (–≤–º–µ—Å—Ç–æ 4)</li>
                                <li>–ú–∞–ª–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å –∫–∞–∂–¥–æ–≥–æ —Ö–æ–¥–∞</li>
                                <li>–°–ª–æ–∂–Ω–µ–µ —Ç—Ä–∏–∞–Ω–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∑–æ–ª–æ—Ç—ã—Ö —è—á–µ–µ–∫</li>
                                <li>–•—É–∂–µ –æ—Ö–≤–∞—Ç –ø–æ–ª—è</li>
                            </ul>
                            <p><strong>–ü–æ—á–µ–º—É —Ü–µ–Ω—Ç—Ä –ª—É—á—à–µ:</strong></p>
                            <ul>
                                <li><strong>–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–ª–µ—Ç–∫–∞ –∏–º–µ–µ—Ç 4 —Å–æ—Å–µ–¥–∞</strong> (–º–∞–∫—Å–∏–º—É–º)</li>
                                <li>–ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å –∫–∞–∂–¥–æ–≥–æ —Ö–æ–¥–∞</li>
                                <li>–õ—É—á—à–µ –¥–ª—è —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏–∏</li>
                                <li>–†–∞–≤–Ω–æ–º–µ—Ä–Ω—ã–π –æ—Ö–≤–∞—Ç –ø–æ–ª—è</li>
                            </ul>
                            <p><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å –∫–ª–µ—Ç–æ–∫, —É –∫–æ—Ç–æ—Ä—ã—Ö 4 —Å–æ—Å–µ–¥–∞!</p>
                        </div>
                        <div class="tactic-visualization">
                            <div class="tactic-board" id="corners-board">
                                <!-- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                            <div class="visual-label">‚úó - –ø–ª–æ—Ö–∏–µ —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ç–æ—á–∫–∏, ‚úì - —Ö–æ—Ä–æ—à–∏–µ</div>
                        </div>
                    `;
                }
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç
                modalTitle.textContent = title;
                modalRank.textContent = rank;
                if (rank === '') {
                    modalRank.style.display = 'none';
                } else {
                    modalRank.style.display = 'inline-block';
                }
                modalContent.innerHTML = content;
                
                // –°–æ–∑–¥–∞–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è —Ç–µ–∫—É—â–µ–π —Ç–∞–∫—Ç–∏–∫–∏
                createTacticVisualization(tactic);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                modalOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            function createTacticVisualization(tactic) {
                let boardId = '';
                
                if (tactic === 'diamond') {
                    boardId = 'diamond-board';
                } else if (tactic === 'cross') {
                    boardId = 'cross-board';
                } else if (tactic === 'diagonal') {
                    boardId = 'diagonal-board';
                } else if (tactic === 'triangulation') {
                    boardId = 'triangulation-board';
                } else if (tactic === 'exclusion') {
                    boardId = 'exclusion-board';
                } else if (tactic === 'avoid-corners') {
                    boardId = 'corners-board';
                }
                
                const board = document.getElementById(boardId);
                if (!board) return;
                
                board.innerHTML = '';
                
                if (tactic === 'diamond') {
                    // –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–º–∞–∑–Ω–æ–π —Ñ–æ—Ä–º–∞—Ü–∏–∏
                    for (let row = 0; row < rows; row++) {
                        for (let col = 0; col < cols; col++) {
                            const cell = document.createElement('div');
                            
                            // –ê–ª–º–∞–∑–Ω–∞—è —Ñ–æ—Ä–º–∞—Ü–∏—è
                            const isStart = (row === 1 && col === 1) || (row === 1 && col === 4) || 
                                          (row === 3 && col === 1) || (row === 3 && col === 4);
                            
                            if (isStart) {
                                cell.className = 'visual-cell start';
                                cell.textContent = `${row+1},${col+1}`;
                            } else {
                                cell.className = 'visual-cell normal';
                            }
                            
                            board.appendChild(cell);
                        }
                    }
                } else if (tactic === 'cross') {
                    // –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –∫—Ä–µ—Å—Ç–∞
                    for (let row = 0; row < rows; row++) {
                        for (let col = 0; col < cols; col++) {
                            const cell = document.createElement('div');
                            
                            // –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫—Ä–µ—Å—Ç
                            const isStart = (row === 1 && col === 2) || (row === 2 && col === 1) || 
                                          (row === 2 && col === 4) || (row === 3 && col === 2);
                            
                            if (isStart) {
                                cell.className = 'visual-cell start';
                                cell.textContent = `${row+1},${col+1}`;
                            } else {
                                cell.className = 'visual-cell normal';
                            }
                            
                            board.appendChild(cell);
                        }
                    }
                } else if (tactic === 'diagonal') {
                    // –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∫–∞–Ω–µ—Ä–∞
                    for (let row = 0; row < rows; row++) {
                        for (let col = 0; col < cols; col++) {
                            const cell = document.createElement('div');
                            
                            // –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–∞–Ω–µ—Ä
                            const isStart = (row === 0 && col === 2) || (row === 1 && col === 4) || 
                                          (row === 3 && col === 1) || (row === 4 && col === 3);
                            
                            if (isStart) {
                                cell.className = 'visual-cell start';
                                cell.textContent = `${row+1},${col+1}`;
                            } else {
                                cell.className = 'visual-cell normal';
                            }
                            
                            board.appendChild(cell);
                        }
                    }
                } else if (tactic === 'triangulation') {
                    // –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏–∏
                    for (let row = 0; row < rows; row++) {
                        for (let col = 0; col < cols; col++) {
                            const cell = document.createElement('div');
                            
                            // –î–≤–∞ –∫–æ–Ω—Ç—É—Ä–∞ —Å –∑–æ–ª–æ—Ç–æ–π —è—á–µ–π–∫–æ–π –º–µ–∂–¥—É –Ω–∏–º–∏
                            const isOutline = (row === 1 && col === 1) || (row === 1 && col === 3);
                            const isGold = (row === 1 && col === 2);
                            
                            if (isGold) {
                                cell.className = 'visual-cell gold';
                                cell.textContent = '‚òÖ';
                            } else if (isOutline) {
                                cell.className = 'visual-cell gold-outline';
                                cell.textContent = 'A/C';
                            } else if (row === 1 && col === 2) {
                                cell.className = 'visual-cell target';
                                cell.textContent = '–ë';
                            } else {
                                cell.className = 'visual-cell normal';
                            }
                            
                            board.appendChild(cell);
                        }
                    }
                } else if (tactic === 'exclusion') {
                    // –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
                    for (let row = 0; row < rows; row++) {
                        for (let col = 0; col < cols; col++) {
                            const cell = document.createElement('div');
                            
                            // –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–ª–µ—Ç–∫–∞ —Å —Å–µ—Ä–æ–π —Ä–∞–º–∫–æ–π –∏ –µ—ë —Å–æ—Å–µ–¥–∏
                            const isCenter = (row === 2 && col === 2);
                            const isNeighbor = (row === 2 && col === 1) || (row === 2 && col === 3) || 
                                              (row === 1 && col === 2) || (row === 3 && col === 2);
                            
                            if (isCenter) {
                                cell.className = 'visual-cell normal';
                                cell.textContent = 'X';
                            } else if (isNeighbor) {
                                cell.className = 'visual-cell empty';
                                cell.textContent = '‚úó';
                            } else {
                                cell.className = 'visual-cell normal';
                            }
                            
                            board.appendChild(cell);
                        }
                    }
                } else if (tactic === 'avoid-corners') {
                    // –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è "–ò–∑–±–µ–≥–∞–π—Ç–µ —É–≥–ª–æ–≤"
                    for (let row = 0; row < rows; row++) {
                        for (let col = 0; col < cols; col++) {
                            const cell = document.createElement('div');
                            
                            // –£–≥–ª—ã vs —Ü–µ–Ω—Ç—Ä
                            const isCorner = (row === 0 && col === 0) || (row === 0 && col === 5) || 
                                            (row === 4 && col === 0) || (row === 4 && col === 5);
                            const isCenter = (row === 2 && col === 2) || (row === 2 && col === 3);
                            
                            if (isCorner) {
                                cell.className = 'visual-cell empty';
                                cell.textContent = '‚úó';
                            } else if (isCenter) {
                                cell.className = 'visual-cell start';
                                cell.textContent = '‚úì';
                            } else {
                                cell.className = 'visual-cell normal';
                            }
                            
                            board.appendChild(cell);
                        }
                    }
                }
            }
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            function closeModal() {
                modalOverlay.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
            
            // –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–≥—Ä—ã (–æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
            // ... [–æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –∏–≥—Ä—ã –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π] ...
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –∫–ª–µ—Ç–∫–∏
            function isValidCell(row, col) {
                return row >= 0 && row < rows && col >= 0 && col < cols;
            }
            
            // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å–µ–¥–Ω–∏—Ö –∫–ª–µ—Ç–æ–∫ (—Ç–æ–ª—å–∫–æ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏/–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏)
            function getAdjacentCells(row, col) {
                const neighbors = [];
                
                // –í–≤–µ—Ä—Ö
                if (row > 0) neighbors.push({row: row-1, col});
                // –í–Ω–∏–∑
                if (row < rows-1) neighbors.push({row: row+1, col});
                // –í–ª–µ–≤–æ
                if (col > 0) neighbors.push({row, col: col-1});
                // –í–ø—Ä–∞–≤–æ
                if (col < cols-1) neighbors.push({row, col: col+1});
                
                return neighbors;
            }
            
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
            function renderGameBoard() {
                gameBoardElement.innerHTML = '';
                
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        const cell = gameBoard[row][col];
                        const cellElement = document.createElement('div');
                        
                        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–ª–∞—Å—Å –∫–ª–µ—Ç–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —à–∞–Ω—Å–∞
                        let cellClass = `cell ${cell.state}`;
                        
                        // –ï—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ –ø—É—Å—Ç–∞—è
                        const isEmpty = emptyCells.some(emptyCell => 
                            emptyCell.row === row && emptyCell.col === col);
                        
                        // –ï—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤–æ–∑–º–æ–∂–Ω–∞—è –∑–æ–ª–æ—Ç–∞—è —Å —à–∞–Ω—Å–æ–º >= 50%
                        const isPossibleGold = possibleGoldCells.some(goldCell => 
                            goldCell.row === row && goldCell.col === col && 
                            goldCell.chance >= 50);
                        
                        // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: –ó–æ–ª–æ—Ç–∞—è > –ü—É—Å—Ç–∞—è > –í–æ–∑–º–æ–∂–Ω–∞—è –∑–æ–ª–æ—Ç–∞—è > –û–±—ã—á–Ω–∞—è > –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è
                        if (cell.state === CELL_STATES.GOLD) {
                            cellClass = `cell ${CELL_STATES.GOLD}`;
                        } else if (isEmpty && cell.state === CELL_STATES.UNKNOWN) {
                            cellClass = `cell ${CELL_STATES.EMPTY}`;
                        } else if (isPossibleGold && cell.state === CELL_STATES.UNKNOWN) {
                            cellClass = `cell ${CELL_STATES.POSSIBLE_GOLD}`;
                        } else if (cell.state === CELL_STATES.NORMAL) {
                            cellClass = `cell ${CELL_STATES.NORMAL}`;
                        } else {
                            cellClass = `cell ${CELL_STATES.UNKNOWN}`;
                        }
                        
                        cellElement.className = cellClass;
                        
                        // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–º–µ—Ä –∫–ª–µ—Ç–∫–∏ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
                        const cellNumber = document.createElement('div');
                        cellNumber.className = 'cell-number';
                        cellNumber.textContent = `${row+1},${col+1}`;
                        cellElement.appendChild(cellNumber);
                        
                        // –î–æ–±–∞–≤–ª—è–µ–º –∑–æ–ª–æ—Ç–æ–π –∫–æ–Ω—Ç—É—Ä –µ—Å–ª–∏ –µ—Å—Ç—å
                        if (cell.hasGoldOutline) {
                            cellElement.classList.add('gold-outline');
                        }
                        
                        // –î–æ–±–∞–≤–ª—è–µ–º —Å–∏–º–≤–æ–ª –¥–ª—è –∑–æ–ª–æ—Ç—ã—Ö –∫–ª–µ—Ç–æ–∫
                        if (cell.state === CELL_STATES.GOLD) {
                            cellElement.textContent = '‚òÖ';
                        }
                        
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —à–∞–Ω—Å –¥–ª—è –í–°–ï–• –∫–ª–µ—Ç–æ–∫ —Å –∫–æ–Ω—Ç—É—Ä–∞–º–∏ –∏ –∏—Ö —Å–æ—Å–µ–¥–µ–π
                        // –ï—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ –∏–º–µ–µ—Ç —à–∞–Ω—Å > 0 (—Å–æ—Å–µ–¥—Å—Ç–≤—É–µ—Ç —Å –∫–æ–Ω—Ç—É—Ä–æ–º) –∏ –æ–Ω–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞
                        if (cell.goldChance > 0 && cell.state === CELL_STATES.UNKNOWN) {
                            const chanceElement = document.createElement('div');
                            chanceElement.className = 'gold-chance';
                            
                            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ–Ω—Ç–∞
                            if (cell.goldChance >= 50) {
                                chanceElement.classList.add('high');
                            } else {
                                chanceElement.classList.add('low');
                            }
                            
                            chanceElement.textContent = `${Math.round(cell.goldChance)}%`;
                            cellElement.appendChild(chanceElement);
                        }
                        
                        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
                        cellElement.addEventListener('click', () => handleCellClick(row, col));
                        
                        gameBoardElement.appendChild(cellElement);
                    }
                }
            }
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –∫–ª–µ—Ç–∫–µ
            function handleCellClick(row, col) {
                const cell = gameBoard[row][col];
                
                // –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–æ–ª–æ—Ç—ã—Ö –∫–æ–Ω—Ç—É—Ä–æ–≤
                if (outlineMode) {
                    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–æ–ª–æ—Ç–æ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞
                    cell.hasGoldOutline = !cell.hasGoldOutline;
                } else {
                    // –¶–∏–∫–ª–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–µ—Ç–∫–∏
                    if (cell.state === CELL_STATES.UNKNOWN) {
                        cell.state = CELL_STATES.NORMAL;
                    } else if (cell.state === CELL_STATES.NORMAL) {
                        cell.state = CELL_STATES.GOLD;
                    } else {
                        cell.state = CELL_STATES.UNKNOWN;
                    }
                }
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
                analyzeBoard();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                renderGameBoard();
                updateCounters();
            }
            
            // –ê–Ω–∞–ª–∏–∑ –ø–æ–ª—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—É—Å—Ç—ã—Ö –∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∑–æ–ª–æ—Ç—ã—Ö —è—á–µ–µ–∫
            function analyzeBoard() {
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                emptyCells = [];
                possibleGoldCells = [];
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —à–∞–Ω—Å—ã –¥–ª—è –≤—Å–µ—Ö –∫–ª–µ—Ç–æ–∫
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        gameBoard[row][col].goldChance = 0;
                    }
                }
                
                // –®–∞–≥ 1: –ü—Ä–∞–≤–∏–ª–æ - –ï—Å–ª–∏ —è—á–µ–π–∫–∞ —Ä–∞—Å–∫—Ä—ã—Ç–∞ (–æ–±—ã—á–Ω–∞—è) –∏ –Ω–µ –∏–º–µ–µ—Ç –∑–æ–ª–æ—Ç–æ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞
                // –≤—Å–µ –µ—ë —Å–æ—Å–µ–¥–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø—É—Å—Ç—ã–º–∏
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        const cell = gameBoard[row][col];
                        
                        if (cell.state === CELL_STATES.NORMAL && !cell.hasGoldOutline) {
                            const neighbors = getAdjacentCells(row, col);
                            
                            neighbors.forEach(neighbor => {
                                const neighborCell = gameBoard[neighbor.row][neighbor.col];
                                
                                // –°–æ—Å–µ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –æ–Ω –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω
                                if (neighborCell.state === CELL_STATES.UNKNOWN) {
                                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ—Ç –ª–∏ —É–∂–µ —ç—Ç–æ–π –∫–ª–µ—Ç–∫–∏ –≤ emptyCells
                                    if (!emptyCells.some(c => c.row === neighbor.row && c.col === neighbor.col)) {
                                        emptyCells.push({row: neighbor.row, col: neighbor.col});
                                    }
                                }
                            });
                        }
                    }
                }
                
                // –®–∞–≥ 2: –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –∫–ª–µ—Ç–∫–∏ —Å –∑–æ–ª–æ—Ç—ã–º–∏ –∫–æ–Ω—Ç—É—Ä–∞–º–∏
                const outlineCells = [];
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        if (gameBoard[row][col].hasGoldOutline) {
                            outlineCells.push({row, col});
                        }
                    }
                }
                
                // –®–∞–≥ 3: –î–ª—è –∫–∞–∂–¥–æ–π –∫–ª–µ—Ç–∫–∏ —Å –∫–æ–Ω—Ç—É—Ä–æ–º –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –µ—ë —Å–æ—Å–µ–¥–µ–π
                // –ó–æ–ª–æ—Ç–æ–π –∫–æ–Ω—Ç—É—Ä –¥–µ–ª–∞–µ—Ç —Å–æ—Å–µ–¥–µ–π –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –¥–ª—è –∑–æ–ª–æ—Ç—ã—Ö —è—á–µ–µ–∫ (–±–∞–∑–æ–≤—ã–π —à–∞–Ω—Å 25%)
                const goldChanceMap = new Map();
                
                outlineCells.forEach(outlineCell => {
                    const {row, col} = outlineCell;
                    const neighbors = getAdjacentCells(row, col);
                    
                    neighbors.forEach(neighbor => {
                        const neighborCell = gameBoard[neighbor.row][neighbor.col];
                        
                        // –ö–ª–µ—Ç–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–æ–ª–æ—Ç–æ–π, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞ –∏–ª–∏ —É–∂–µ –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ –∑–æ–ª–æ—Ç–∞—è
                        if (neighborCell.state === CELL_STATES.UNKNOWN || neighborCell.state === CELL_STATES.GOLD) {
                            const key = `${neighbor.row},${neighbor.col}`;
                            
                            // –ë–∞–∑–æ–≤—ã–π —à–∞–Ω—Å –æ—Ç –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞ - 25%
                            let currentChance = 25;
                            
                            if (goldChanceMap.has(key)) {
                                // –ï—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ —É–∂–µ –≤ –∫–∞—Ä—Ç–µ, —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∞–Ω—Å
                                currentChance = goldChanceMap.get(key).chance;
                                currentChance += 25; // –ö–∞–∂–¥—ã–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—É—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç 25%
                            }
                            
                            goldChanceMap.set(key, {
                                row: neighbor.row,
                                col: neighbor.col,
                                chance: currentChance
                            });
                        }
                    });
                });
                
                // –®–∞–≥ 4: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–ª–µ—Ç–∫–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –∫–æ–Ω—Ç—É—Ä–∞–º–∏ (–ø–æ–≤—ã—à–∞–µ–º —à–∞–Ω—Å)
                // –ï—Å–ª–∏ –¥–≤–µ –∫–ª–µ—Ç–∫–∏ —Å –∫–æ–Ω—Ç—É—Ä–∞–º–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ä—è–¥–æ–º (–ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ –∏–ª–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏)
                // —Ç–æ –∫–ª–µ—Ç–∫–∞ –º–µ–∂–¥—É –Ω–∏–º–∏ –∏–º–µ–µ—Ç –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π —à–∞–Ω—Å –±—ã—Ç—å –∑–æ–ª–æ—Ç–æ–π
                for (let i = 0; i < outlineCells.length; i++) {
                    for (let j = i + 1; j < outlineCells.length; j++) {
                        const cell1 = outlineCells[i];
                        const cell2 = outlineCells[j];
                        
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ª–∏ –∫–ª–µ—Ç–∫–∏ —Ä—è–¥–æ–º –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
                        if (cell1.row === cell2.row && Math.abs(cell1.col - cell2.col) === 2) {
                            // –ú–µ–∂–¥—É –Ω–∏–º–∏ –µ—Å—Ç—å –æ–¥–Ω–∞ –∫–ª–µ—Ç–∫–∞
                            const middleCol = Math.min(cell1.col, cell2.col) + 1;
                            const middleRow = cell1.row;
                            
                            if (isValidCell(middleRow, middleCol) && 
                                gameBoard[middleRow][middleCol].state === CELL_STATES.UNKNOWN) {
                                const key = `${middleRow},${middleCol}`;
                                let currentChance = goldChanceMap.has(key) ? goldChanceMap.get(key).chance : 0;
                                // –ö–ª–µ—Ç–∫–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –∫–æ–Ω—Ç—É—Ä–∞–º–∏ –ø–æ–ª—É—á–∞–µ—Ç +50% –∫ —à–∞–Ω—Å—É
                                goldChanceMap.set(key, {
                                    row: middleRow,
                                    col: middleCol,
                                    chance: currentChance + 10
                                });
                            }
                        }
                        
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ª–∏ –∫–ª–µ—Ç–∫–∏ —Ä—è–¥–æ–º –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
                        if (cell1.col === cell2.col && Math.abs(cell1.row - cell2.row) === 2) {
                            // –ú–µ–∂–¥—É –Ω–∏–º–∏ –µ—Å—Ç—å –æ–¥–Ω–∞ –∫–ª–µ—Ç–∫–∞
                            const middleRow = Math.min(cell1.row, cell2.row) + 1;
                            const middleCol = cell1.col;
                            
                            if (isValidCell(middleRow, middleCol) && 
                                gameBoard[middleRow][middleCol].state === CELL_STATES.UNKNOWN) {
                                const key = `${middleRow},${middleCol}`;
                                let currentChance = goldChanceMap.has(key) ? goldChanceMap.get(key).chance : 0;
                                // –ö–ª–µ—Ç–∫–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –∫–æ–Ω—Ç—É—Ä–∞–º–∏ –ø–æ–ª—É—á–∞–µ—Ç +10% –∫ —à–∞–Ω—Å—É
                                goldChanceMap.set(key, {
                                    row: middleRow,
                                    col: middleCol,
                                    chance: currentChance + 10
                                });
                            }
                        }
                        
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è—é—Ç—Å—è –ª–∏ –∫–ª–µ—Ç–∫–∏ —Å–æ—Å–µ–¥—è–º–∏ (—à–∞–Ω—Å, —á—Ç–æ –æ–±–µ –∑–æ–ª–æ—Ç—ã–µ)
                        if (Math.abs(cell1.row - cell2.row) + Math.abs(cell1.col - cell2.col) === 1) {
                            // –î–≤–∞ –∫–æ–Ω—Ç—É—Ä–∞ —Ä—è–¥–æ–º - –∫–∞–∂–¥–∞—è –∏–∑ –Ω–∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–æ–ª–æ—Ç–æ–π
                            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∞–Ω—Å –¥–ª—è –æ–±–µ–∏—Ö –∫–ª–µ—Ç–æ–∫
                            const key1 = `${cell1.row},${cell1.col}`;
                            const key2 = `${cell2.row},${cell2.col}`;
                            
                            if (isValidCell(cell1.row, cell1.col) && 
                                gameBoard[cell1.row][cell1.col].state === CELL_STATES.UNKNOWN) {
                                let chance1 = goldChanceMap.has(key1) ? goldChanceMap.get(key1).chance : 0;
                                // –ö–æ–Ω—Ç—É—Ä—ã —Ä—è–¥–æ–º –ø–æ–ª—É—á–∞—é—Ç +10% –∫ —à–∞–Ω—Å—É –±—ã—Ç—å –∑–æ–ª–æ—Ç—ã–º–∏
                                goldChanceMap.set(key1, {
                                    row: cell1.row,
                                    col: cell1.col,
                                    chance: chance1 + 10
                                });
                            }
                            
                            if (isValidCell(cell2.row, cell2.col) && 
                                gameBoard[cell2.row][cell2.col].state === CELL_STATES.UNKNOWN) {
                                let chance2 = goldChanceMap.has(key2) ? goldChanceMap.get(key2).chance : 0;
                                // –ö–æ–Ω—Ç—É—Ä—ã —Ä—è–¥–æ–º –ø–æ–ª—É—á–∞—é—Ç +10% –∫ —à–∞–Ω—Å—É –±—ã—Ç—å –∑–æ–ª–æ—Ç—ã–º–∏
                                goldChanceMap.set(key2, {
                                    row: cell2.row,
                                    col: cell2.col,
                                    chance: chance2 + 10
                                });
                            }
                        }
                    }
                }
                
                // –®–∞–≥ 5: –û–±–Ω–æ–≤–ª—è–µ–º —à–∞–Ω—Å—ã –≤ gameBoard –∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ possibleGoldCells –µ—Å–ª–∏ —à–∞–Ω—Å >= 50%
                goldChanceMap.forEach((value, key) => {
                    const {row, col, chance} = value;
                    
                    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —à–∞–Ω—Å 100%
                    const finalChance = Math.min(chance, 95);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —à–∞–Ω—Å –≤ gameBoard
                    gameBoard[row][col].goldChance = finalChance;
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤ possibleGoldCells –µ—Å–ª–∏ —à–∞–Ω—Å >= 50% –∏ –∫–ª–µ—Ç–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞
                    if (finalChance >= 50 && gameBoard[row][col].state === CELL_STATES.UNKNOWN) {
                        possibleGoldCells.push({row, col, chance: finalChance});
                    }
                });
                
                // –®–∞–≥ 6: –£—á–∏—Ç—ã–≤–∞–µ–º —É–∂–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∑–æ–ª–æ—Ç—ã–µ —è—á–µ–π–∫–∏
                // –ï—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ —É–∂–µ –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ –∑–æ–ª–æ—Ç–∞—è, –µ—ë —Å–æ—Å–µ–¥–∏ —Å –∫–æ–Ω—Ç—É—Ä–∞–º–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        if (gameBoard[row][col].state === CELL_STATES.GOLD) {
                            const neighbors = getAdjacentCells(row, col);
                            
                            neighbors.forEach(neighbor => {
                                // –ï—Å–ª–∏ —Å–æ—Å–µ–¥ –∏–º–µ–µ—Ç –∑–æ–ª–æ—Ç–æ–π –∫–æ–Ω—Ç—É—Ä –∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω, –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º
                                if (isValidCell(neighbor.row, neighbor.col) &&
                                    gameBoard[neighbor.row][neighbor.col].hasGoldOutline &&
                                    gameBoard[neighbor.row][neighbor.col].state === CELL_STATES.UNKNOWN) {
                                    
                                    if (!emptyCells.some(c => c.row === neighbor.row && c.col === neighbor.col)) {
                                        emptyCells.push({row: neighbor.row, col: neighbor.col});
                                    }
                                    
                                    // –£–¥–∞–ª—è–µ–º –∏–∑ possibleGoldCells –µ—Å–ª–∏ —Ç–∞–º –µ—Å—Ç—å
                                    const index = possibleGoldCells.findIndex(c => 
                                        c.row === neighbor.row && c.col === neighbor.col);
                                    if (index !== -1) {
                                        possibleGoldCells.splice(index, 1);
                                    }
                                    
                                    // –û–±–Ω—É–ª—è–µ–º —à–∞–Ω—Å –¥–ª—è —ç—Ç–æ–π –∫–ª–µ—Ç–∫–∏
                                    gameBoard[neighbor.row][neighbor.col].goldChance = 0;
                                }
                            });
                        }
                    }
                }
                
                // –®–∞–≥ 7: –ö–ª–µ—Ç–∫–∏ —Å –∑–æ–ª–æ—Ç—ã–º –∫–æ–Ω—Ç—É—Ä–æ–º –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–æ–ª–æ—Ç—ã–º–∏
                // –ü–æ–º–µ—á–∞–µ–º –∏—Ö –∫–∞–∫ –ø—É—Å—Ç—ã–µ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã –∏ –æ–±–Ω—É–ª—è–µ–º –∏—Ö —à–∞–Ω—Å
                outlineCells.forEach(cell => {
                    if (gameBoard[cell.row][cell.col].state === CELL_STATES.UNKNOWN) {
                        if (!emptyCells.some(c => c.row === cell.row && c.col === cell.col)) {
                            emptyCells.push({row: cell.row, col: cell.col});
                        }
                        
                        // –£–¥–∞–ª—è–µ–º –∏–∑ possibleGoldCells –µ—Å–ª–∏ —Ç–∞–º –µ—Å—Ç—å
                        const index = possibleGoldCells.findIndex(c => 
                            c.row === cell.row && c.col === cell.col);
                        if (index !== -1) {
                            possibleGoldCells.splice(index, 1);
                        }
                        
                        // –û–±–Ω—É–ª—è–µ–º —à–∞–Ω—Å –¥–ª—è –∫–ª–µ—Ç–æ–∫ —Å –∫–æ–Ω—Ç—É—Ä–∞–º–∏
                        gameBoard[cell.row][cell.col].goldChance = 0;
                    }
                });
                
                // –®–∞–≥ 8: –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
                updateCounters();
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤
            function updateCounters() {
                let goldCount = 0;
                
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        if (gameBoard[row][col].state === CELL_STATES.GOLD) {
                            goldCount++;
                        }
                    }
                }
                
                goldCountElement.textContent = goldCount;
                emptyCountElement.textContent = emptyCells.length;
                possibleGoldCountElement.textContent = possibleGoldCells.length;
            }
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–æ–ª–æ—Ç—ã—Ö –∫–æ–Ω—Ç—É—Ä–æ–≤
            function toggleOutlineMode() {
                outlineMode = !outlineMode;
                
                if (outlineMode) {
                    outlineModeBtn.classList.add('active');
                    outlineModeBtn.textContent = '–†–µ–∂–∏–º –∫–æ–Ω—Ç—É—Ä–æ–≤ (–≤–∫–ª)';
                } else {
                    outlineModeBtn.classList.remove('active');
                    outlineModeBtn.textContent = '–ó–æ–ª–æ—Ç—ã–µ –∫–æ–Ω—Ç—É—Ä—ã';
                }
            }
            
            // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
            newGameBtn.addEventListener('click', initGameBoard);
            outlineModeBtn.addEventListener('click', toggleOutlineMode);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            closeModalBtn.addEventListener('click', closeModal);
            modalOverlay.addEventListener('click', function(e) {
                if (e.target === modalOverlay) {
                    closeModal();
                }
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ –∫–ª–∞–≤–∏—à–µ Escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && modalOverlay.classList.contains('active')) {
                    closeModal();
                }
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            initGameBoard();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
            analyzeBoard();
        });
    </script>
</body>
</html>
